2025-01-16 00:07:39.599 -05:00  INF  Now listening on: https://localhost:7195
2025-01-16 00:07:39.642 -05:00  INF  Now listening on: http://localhost:5121
2025-01-16 00:07:39.646 -05:00  INF  Application started. Press Ctrl+C to shut down.
2025-01-16 00:07:39.648 -05:00  INF  Hosting environment: Development
2025-01-16 00:07:39.649 -05:00  INF  Content root path: C:\Users\HP\Desktop\dyma\asp_dot_net_dyma\CourrsWebApi3\Northwind3
2025-01-16 00:07:40.093 -05:00  INF  Request starting HTTP/2 GET https://localhost:7195/swagger/index.html - null null
2025-01-16 00:07:40.242 -05:00  INF  Request finished HTTP/2 GET https://localhost:7195/swagger/index.html - 200 null text/html;charset=utf-8 151.0448ms
2025-01-16 00:07:40.251 -05:00  INF  Request starting HTTP/2 GET https://localhost:7195/_framework/aspnetcore-browser-refresh.js - null null
2025-01-16 00:07:40.260 -05:00  INF  Request finished HTTP/2 GET https://localhost:7195/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 8.6335ms
2025-01-16 00:07:40.331 -05:00  INF  Request starting HTTP/2 GET https://localhost:7195/swagger/v1/swagger.json - null null
2025-01-16 00:07:40.459 -05:00  INF  Request finished HTTP/2 GET https://localhost:7195/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 127.79ms
2025-01-16 00:07:46.119 -05:00  INF  Request starting HTTP/2 POST https://localhost:7195/api/Employes/formdata - multipart/form-data; boundary=----WebKitFormBoundary0oRHt3bvTQi0Mdnl 1172
2025-01-16 00:07:46.131 -05:00  INF  Executing endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 00:07:46.175 -05:00  INF  Route matched with {action = "PostEmployéFormData", controller = "Employes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Northwind3.Entities.Employe]] PostEmployéFormData(Northwind3.Entities.FormEmploye) on controller Northwind3.Controllers.EmployesController (Northwind3).
2025-01-16 00:07:46.837 -05:00  WRN  Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-01-16 00:07:47.509 -05:00  ERR  Failed executing DbCommand (58ms) [Parameters=[@p0='17886960-ce16-4338-b2d7-03110450e378', @p1='4500' (Nullable = false) (Size = 20) (DbType = AnsiString), @p2='Canada' (Nullable = false) (Size = 40), @p3=NULL (Size = 40), @p4='Ottawa' (Nullable = false) (Size = 100), @p5=NULL (Size = 20) (DbType = AnsiString), @p6='Gatineau' (Nullable = false) (Size = 40), @p7=NULL (Size = 40), @p8=NULL (DbType = DateTime2), @p9=NULL (DbType = DateTime2), @p10='SrIngenieurIngenieur' (Size = 40), @p11='17886960-ce16-4338-b2d7-03110450e378', @p12=NULL (DbType = Int32), @p13='Ngola Ngola' (Nullable = false) (Size = 40), @p14=NULL (Size = 1000), @p15=NULL (Size = 8000) (DbType = Binary), @p16='Tresor Genese' (Nullable = false) (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Adresses] ([Id], [CodePostal], [Pays], [Region], [Rue], [Tel], [Ville])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO [Employes] ([Civilite], [DateEmbauche], [DateNaissance], [Fonction], [IdAdresse], [IdManager], [Nom], [Notes], [Photo], [Prenom])
OUTPUT INSERTED.[Id]
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-01-16 00:07:47.551 -05:00  ERR  An exception occurred in the database while saving changes for context type 'Northwind3.Data.ContextNorthwind3'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Adresses'. Cannot insert duplicate key in object 'dbo.Adresses'. The duplicate key value is (17886960-ce16-4338-b2d7-03110450e378).
Cannot insert duplicate key row in object 'dbo.Employes' with unique index 'IX_Employes_IdAdresse'. The duplicate key value is (17886960-ce16-4338-b2d7-03110450e378).
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:4af52700-50a3-48fe-a255-b05845a0b916
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Adresses'. Cannot insert duplicate key in object 'dbo.Adresses'. The duplicate key value is (17886960-ce16-4338-b2d7-03110450e378).
Cannot insert duplicate key row in object 'dbo.Employes' with unique index 'IX_Employes_IdAdresse'. The duplicate key value is (17886960-ce16-4338-b2d7-03110450e378).
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:4af52700-50a3-48fe-a255-b05845a0b916
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)

2025-01-16 00:07:47.575 -05:00  INF  Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-01-16 00:07:47.607 -05:00  INF  Executed action Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3) in 1418.7961ms
2025-01-16 00:07:47.611 -05:00  INF  Executed endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 00:07:47.622 -05:00  INF  Request finished HTTP/2 POST https://localhost:7195/api/Employes/formdata - 409 null application/problem+json; charset=utf-8 1503.2667ms
2025-01-16 13:08:49.424 -05:00  INF  Now listening on: https://localhost:7195
2025-01-16 13:08:49.480 -05:00  INF  Now listening on: http://localhost:5121
2025-01-16 13:08:49.484 -05:00  INF  Application started. Press Ctrl+C to shut down.
2025-01-16 13:08:49.486 -05:00  INF  Hosting environment: Development
2025-01-16 13:08:49.487 -05:00  INF  Content root path: C:\Users\HP\Desktop\dyma\asp_dot_net_dyma\CourrsWebApi3\Northwind3
2025-01-16 13:08:50.131 -05:00  INF  Request starting HTTP/2 GET https://localhost:7195/swagger/index.html - null null
2025-01-16 13:08:50.553 -05:00  INF  Request finished HTTP/2 GET https://localhost:7195/swagger/index.html - 200 null text/html;charset=utf-8 427.937ms
2025-01-16 13:08:50.568 -05:00  INF  Request starting HTTP/2 GET https://localhost:7195/_vs/browserLink - null null
2025-01-16 13:08:50.568 -05:00  INF  Request starting HTTP/2 GET https://localhost:7195/_framework/aspnetcore-browser-refresh.js - null null
2025-01-16 13:08:50.587 -05:00  INF  Request finished HTTP/2 GET https://localhost:7195/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 18.1214ms
2025-01-16 13:08:50.674 -05:00  INF  Request finished HTTP/2 GET https://localhost:7195/_vs/browserLink - 200 null text/javascript; charset=UTF-8 105.2911ms
2025-01-16 13:08:58.416 -05:00  INF  Request starting HTTP/2 GET https://localhost:7195/swagger/v1/swagger.json - null null
2025-01-16 13:08:58.679 -05:00  INF  Request finished HTTP/2 GET https://localhost:7195/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 263.1437ms
2025-01-16 13:10:47.508 -05:00  INF  Request starting HTTP/2 POST https://localhost:7195/api/Employes/formdata - multipart/form-data; boundary=----WebKitFormBoundaryvIBCal3dS36PKhlw 1155
2025-01-16 13:10:47.524 -05:00  INF  Executing endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:10:47.586 -05:00  INF  Route matched with {action = "PostEmployéFormData", controller = "Employes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Northwind3.Entities.Employe]] PostEmployéFormData(Northwind3.Entities.FormEmploye) on controller Northwind3.Controllers.EmployesController (Northwind3).
2025-01-16 13:10:47.840 -05:00  INF  Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-01-16 13:10:47.874 -05:00  INF  Executed action Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3) in 280.3636ms
2025-01-16 13:10:47.875 -05:00  INF  Executed endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:10:47.880 -05:00  INF  Request finished HTTP/2 POST https://localhost:7195/api/Employes/formdata - 400 null application/problem+json; charset=utf-8 371.8729ms
2025-01-16 13:14:27.209 -05:00  INF  Now listening on: https://localhost:7195
2025-01-16 13:14:27.242 -05:00  INF  Now listening on: http://localhost:5121
2025-01-16 13:14:27.245 -05:00  INF  Application started. Press Ctrl+C to shut down.
2025-01-16 13:14:27.246 -05:00  INF  Hosting environment: Development
2025-01-16 13:14:27.247 -05:00  INF  Content root path: C:\Users\HP\Desktop\dyma\asp_dot_net_dyma\CourrsWebApi3\Northwind3
2025-01-16 13:14:27.409 -05:00  INF  Request starting HTTP/2 GET https://localhost:7195/swagger/index.html - null null
2025-01-16 13:14:27.699 -05:00  INF  Request finished HTTP/2 GET https://localhost:7195/swagger/index.html - 200 null text/html;charset=utf-8 290.2666ms
2025-01-16 13:14:27.709 -05:00  INF  Request starting HTTP/2 GET https://localhost:7195/_framework/aspnetcore-browser-refresh.js - null null
2025-01-16 13:14:27.720 -05:00  INF  Request finished HTTP/2 GET https://localhost:7195/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 10.7648ms
2025-01-16 13:14:27.724 -05:00  INF  Request starting HTTP/2 GET https://localhost:7195/_vs/browserLink - null null
2025-01-16 13:14:27.755 -05:00  INF  Request finished HTTP/2 GET https://localhost:7195/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.0396ms
2025-01-16 13:14:27.955 -05:00  INF  Request starting HTTP/2 GET https://localhost:7195/swagger/v1/swagger.json - null null
2025-01-16 13:14:28.077 -05:00  INF  Request finished HTTP/2 GET https://localhost:7195/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 122.3762ms
2025-01-16 13:14:53.251 -05:00  INF  Request starting HTTP/2 POST https://localhost:7195/api/Employes/formdata - multipart/form-data; boundary=----WebKitFormBoundary0vaClJN27LAyFwNn 1155
2025-01-16 13:14:53.266 -05:00  INF  Executing endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:14:53.319 -05:00  INF  Route matched with {action = "PostEmployéFormData", controller = "Employes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Northwind3.Entities.Employe]] PostEmployéFormData(Northwind3.Entities.FormEmploye) on controller Northwind3.Controllers.EmployesController (Northwind3).
2025-01-16 13:14:53.519 -05:00  INF  Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-01-16 13:14:53.557 -05:00  INF  Executed action Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3) in 230.8402ms
2025-01-16 13:14:53.560 -05:00  INF  Executed endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:14:53.565 -05:00  INF  Request finished HTTP/2 POST https://localhost:7195/api/Employes/formdata - 400 null application/problem+json; charset=utf-8 314.5195ms
2025-01-16 13:15:36.063 -05:00  INF  Request starting HTTP/2 POST https://localhost:7195/api/Employes/formdata - multipart/form-data; boundary=----WebKitFormBoundaryXSunFsX93Bdkn0Te 1161
2025-01-16 13:15:36.069 -05:00  INF  Executing endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:15:36.070 -05:00  INF  Route matched with {action = "PostEmployéFormData", controller = "Employes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Northwind3.Entities.Employe]] PostEmployéFormData(Northwind3.Entities.FormEmploye) on controller Northwind3.Controllers.EmployesController (Northwind3).
2025-01-16 13:15:36.084 -05:00  INF  Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-01-16 13:15:36.086 -05:00  INF  Executed action Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3) in 13.8951ms
2025-01-16 13:15:36.089 -05:00  INF  Executed endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:15:36.092 -05:00  INF  Request finished HTTP/2 POST https://localhost:7195/api/Employes/formdata - 400 null application/problem+json; charset=utf-8 29.4785ms
2025-01-16 13:16:07.490 -05:00  INF  Request starting HTTP/2 POST https://localhost:7195/api/Employes/formdata - multipart/form-data; boundary=----WebKitFormBoundaryy1x1BArGJuCSqcVg 1148
2025-01-16 13:16:07.498 -05:00  INF  Executing endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:16:07.499 -05:00  INF  Route matched with {action = "PostEmployéFormData", controller = "Employes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Northwind3.Entities.Employe]] PostEmployéFormData(Northwind3.Entities.FormEmploye) on controller Northwind3.Controllers.EmployesController (Northwind3).
2025-01-16 13:16:07.510 -05:00  INF  Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-01-16 13:16:07.513 -05:00  INF  Executed action Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3) in 11.7108ms
2025-01-16 13:16:07.514 -05:00  INF  Executed endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:16:07.516 -05:00  INF  Request finished HTTP/2 POST https://localhost:7195/api/Employes/formdata - 400 null application/problem+json; charset=utf-8 25.4976ms
2025-01-16 13:20:06.303 -05:00  INF  Request starting HTTP/2 POST https://localhost:7195/api/Employes/formdata - multipart/form-data; boundary=----WebKitFormBoundary8NXZ7UTySK1M8V89 1275
2025-01-16 13:20:06.308 -05:00  INF  Executing endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:20:06.310 -05:00  INF  Route matched with {action = "PostEmployéFormData", controller = "Employes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Northwind3.Entities.Employe]] PostEmployéFormData(Northwind3.Entities.FormEmploye) on controller Northwind3.Controllers.EmployesController (Northwind3).
2025-01-16 13:20:07.351 -05:00  WRN  Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-01-16 13:20:10.845 -05:00  ERR  Failed executing DbCommand (64ms) [Parameters=[@p0='17886960-ce16-4338-b2d7-03110450e378', @p1='4500' (Nullable = false) (Size = 20) (DbType = AnsiString), @p2='Canada' (Nullable = false) (Size = 40), @p3=NULL (Size = 40), @p4='Ottawa' (Nullable = false) (Size = 100), @p5=NULL (Size = 20) (DbType = AnsiString), @p6='Gatineau' (Nullable = false) (Size = 40), @p7=NULL (Size = 40), @p8=NULL (DbType = DateTime2), @p9=NULL (DbType = DateTime2), @p10='SrIngenieurIngenieur' (Size = 40), @p11='17886960-ce16-4338-b2d7-03110450e378', @p12=NULL (DbType = Int32), @p13='Ngola' (Nullable = false) (Size = 40), @p14=NULL (Size = 1000), @p15=NULL (Size = 8000) (DbType = Binary), @p16='Tresor G' (Nullable = false) (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Adresses] ([Id], [CodePostal], [Pays], [Region], [Rue], [Tel], [Ville])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO [Employes] ([Civilite], [DateEmbauche], [DateNaissance], [Fonction], [IdAdresse], [IdManager], [Nom], [Notes], [Photo], [Prenom])
OUTPUT INSERTED.[Id]
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-01-16 13:20:10.924 -05:00  ERR  An exception occurred in the database while saving changes for context type 'Northwind3.Data.ContextNorthwind3'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Adresses'. Cannot insert duplicate key in object 'dbo.Adresses'. The duplicate key value is (17886960-ce16-4338-b2d7-03110450e378).
Cannot insert duplicate key row in object 'dbo.Employes' with unique index 'IX_Employes_IdAdresse'. The duplicate key value is (17886960-ce16-4338-b2d7-03110450e378).
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:173dd75a-5246-4e5f-8a72-435859a1b727
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Adresses'. Cannot insert duplicate key in object 'dbo.Adresses'. The duplicate key value is (17886960-ce16-4338-b2d7-03110450e378).
Cannot insert duplicate key row in object 'dbo.Employes' with unique index 'IX_Employes_IdAdresse'. The duplicate key value is (17886960-ce16-4338-b2d7-03110450e378).
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:173dd75a-5246-4e5f-8a72-435859a1b727
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)

2025-01-16 13:20:10.945 -05:00  INF  Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-01-16 13:20:10.952 -05:00  INF  Executed action Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3) in 4639.4537ms
2025-01-16 13:20:10.958 -05:00  INF  Executed endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:20:10.968 -05:00  INF  Request finished HTTP/2 POST https://localhost:7195/api/Employes/formdata - 409 null application/problem+json; charset=utf-8 4664.86ms
2025-01-16 13:21:27.628 -05:00  INF  Request starting HTTP/2 POST https://localhost:7195/api/Employes/formdata - multipart/form-data; boundary=----WebKitFormBoundaryXRv3jmSDBQoGQnr8 1274
2025-01-16 13:21:27.634 -05:00  INF  Executing endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:21:27.637 -05:00  INF  Route matched with {action = "PostEmployéFormData", controller = "Employes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Northwind3.Entities.Employe]] PostEmployéFormData(Northwind3.Entities.FormEmploye) on controller Northwind3.Controllers.EmployesController (Northwind3).
2025-01-16 13:21:27.640 -05:00  INF  Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-01-16 13:21:27.642 -05:00  INF  Executed action Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3) in 4.485ms
2025-01-16 13:21:27.645 -05:00  INF  Executed endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:21:27.647 -05:00  INF  Request finished HTTP/2 POST https://localhost:7195/api/Employes/formdata - 400 null application/problem+json; charset=utf-8 19.0055ms
2025-01-16 13:27:07.348 -05:00  INF  Request starting HTTP/2 POST https://localhost:7195/api/Employes/formdata - multipart/form-data; boundary=----WebKitFormBoundaryjE8yPARtAAvA5hrC 1493
2025-01-16 13:27:07.352 -05:00  INF  Executing endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:27:07.354 -05:00  INF  Route matched with {action = "PostEmployéFormData", controller = "Employes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Northwind3.Entities.Employe]] PostEmployéFormData(Northwind3.Entities.FormEmploye) on controller Northwind3.Controllers.EmployesController (Northwind3).
2025-01-16 13:27:07.380 -05:00  INF  Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-01-16 13:27:07.384 -05:00  INF  Executed action Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3) in 27.3068ms
2025-01-16 13:27:07.387 -05:00  INF  Executed endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:27:07.389 -05:00  INF  Request finished HTTP/2 POST https://localhost:7195/api/Employes/formdata - 400 null application/problem+json; charset=utf-8 41.3946ms
2025-01-16 13:27:31.466 -05:00  INF  Request starting HTTP/2 POST https://localhost:7195/api/Employes/formdata - multipart/form-data; boundary=----WebKitFormBoundaryFGAckrIxx4kbe9Y4 1493
2025-01-16 13:27:31.472 -05:00  INF  Executing endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:27:31.474 -05:00  INF  Route matched with {action = "PostEmployéFormData", controller = "Employes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Northwind3.Entities.Employe]] PostEmployéFormData(Northwind3.Entities.FormEmploye) on controller Northwind3.Controllers.EmployesController (Northwind3).
2025-01-16 13:27:31.477 -05:00  INF  Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-01-16 13:27:31.478 -05:00  INF  Executed action Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3) in 2.3648ms
2025-01-16 13:27:31.482 -05:00  INF  Executed endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:27:31.485 -05:00  INF  Request finished HTTP/2 POST https://localhost:7195/api/Employes/formdata - 400 null application/problem+json; charset=utf-8 18.5869ms
2025-01-16 13:27:48.563 -05:00  INF  Request starting HTTP/2 POST https://localhost:7195/api/Employes/formdata - multipart/form-data; boundary=----WebKitFormBoundaryHl8oLHfmvbwpnK3m 1491
2025-01-16 13:27:48.567 -05:00  INF  Executing endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:27:48.569 -05:00  INF  Route matched with {action = "PostEmployéFormData", controller = "Employes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Northwind3.Entities.Employe]] PostEmployéFormData(Northwind3.Entities.FormEmploye) on controller Northwind3.Controllers.EmployesController (Northwind3).
2025-01-16 13:27:48.743 -05:00  ERR  Failed executing DbCommand (13ms) [Parameters=[@p0='17886960-ce16-4338-b2d7-03110450e378', @p1='4500' (Nullable = false) (Size = 20) (DbType = AnsiString), @p2='Canada' (Nullable = false) (Size = 40), @p3=NULL (Size = 40), @p4='Ottawa' (Nullable = false) (Size = 100), @p5='438 680 1234' (Size = 20) (DbType = AnsiString), @p6='Gatineau' (Nullable = false) (Size = 40), @p7=NULL (Size = 40), @p8='1985-02-13T00:00:00.0000000' (Nullable = true), @p9='1984-04-14T00:00:00.0000000' (Nullable = true), @p10='SrIngenieurIngenieur' (Size = 40), @p11='17886960-ce16-4338-b2d7-03110450e378', @p12=NULL (DbType = Int32), @p13='Ngola' (Nullable = false) (Size = 40), @p14=NULL (Size = 1000), @p15=NULL (Size = 8000) (DbType = Binary), @p16='Tresor G' (Nullable = false) (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Adresses] ([Id], [CodePostal], [Pays], [Region], [Rue], [Tel], [Ville])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO [Employes] ([Civilite], [DateEmbauche], [DateNaissance], [Fonction], [IdAdresse], [IdManager], [Nom], [Notes], [Photo], [Prenom])
OUTPUT INSERTED.[Id]
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-01-16 13:27:48.751 -05:00  ERR  An exception occurred in the database while saving changes for context type 'Northwind3.Data.ContextNorthwind3'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Adresses'. Cannot insert duplicate key in object 'dbo.Adresses'. The duplicate key value is (17886960-ce16-4338-b2d7-03110450e378).
Cannot insert duplicate key row in object 'dbo.Employes' with unique index 'IX_Employes_IdAdresse'. The duplicate key value is (17886960-ce16-4338-b2d7-03110450e378).
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:285e97d3-e110-40a5-979a-156f3d9e1299
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Adresses'. Cannot insert duplicate key in object 'dbo.Adresses'. The duplicate key value is (17886960-ce16-4338-b2d7-03110450e378).
Cannot insert duplicate key row in object 'dbo.Employes' with unique index 'IX_Employes_IdAdresse'. The duplicate key value is (17886960-ce16-4338-b2d7-03110450e378).
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:285e97d3-e110-40a5-979a-156f3d9e1299
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)

2025-01-16 13:27:48.768 -05:00  INF  Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-01-16 13:27:48.770 -05:00  INF  Executed action Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3) in 197.603ms
2025-01-16 13:27:48.773 -05:00  INF  Executed endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:27:48.774 -05:00  INF  Request finished HTTP/2 POST https://localhost:7195/api/Employes/formdata - 409 null application/problem+json; charset=utf-8 211.6022ms
2025-01-16 13:28:15.993 -05:00  INF  Request starting HTTP/2 POST https://localhost:7195/api/Employes/formdata - multipart/form-data; boundary=----WebKitFormBoundarykKLYfHWyQIc6JuKc 1491
2025-01-16 13:28:15.998 -05:00  INF  Executing endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:28:16.000 -05:00  INF  Route matched with {action = "PostEmployéFormData", controller = "Employes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Northwind3.Entities.Employe]] PostEmployéFormData(Northwind3.Entities.FormEmploye) on controller Northwind3.Controllers.EmployesController (Northwind3).
2025-01-16 13:28:16.038 -05:00  ERR  Failed executing DbCommand (2ms) [Parameters=[@p0='17886960-ce16-4338-b2d7-03110450e378', @p1='4500' (Nullable = false) (Size = 20) (DbType = AnsiString), @p2='Canada' (Nullable = false) (Size = 40), @p3=NULL (Size = 40), @p4='Ottawa' (Nullable = false) (Size = 100), @p5='438 680 1234' (Size = 20) (DbType = AnsiString), @p6='Gatineau' (Nullable = false) (Size = 40), @p7=NULL (Size = 40), @p8='1984-02-13T00:00:00.0000000' (Nullable = true), @p9='1985-04-14T00:00:00.0000000' (Nullable = true), @p10='SrIngenieurIngenieur' (Size = 40), @p11='17886960-ce16-4338-b2d7-03110450e378', @p12=NULL (DbType = Int32), @p13='Ngola' (Nullable = false) (Size = 40), @p14=NULL (Size = 1000), @p15=NULL (Size = 8000) (DbType = Binary), @p16='Tresor G' (Nullable = false) (Size = 40)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Adresses] ([Id], [CodePostal], [Pays], [Region], [Rue], [Tel], [Ville])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO [Employes] ([Civilite], [DateEmbauche], [DateNaissance], [Fonction], [IdAdresse], [IdManager], [Nom], [Notes], [Photo], [Prenom])
OUTPUT INSERTED.[Id]
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-01-16 13:28:16.046 -05:00  ERR  An exception occurred in the database while saving changes for context type 'Northwind3.Data.ContextNorthwind3'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Adresses'. Cannot insert duplicate key in object 'dbo.Adresses'. The duplicate key value is (17886960-ce16-4338-b2d7-03110450e378).
Cannot insert duplicate key row in object 'dbo.Employes' with unique index 'IX_Employes_IdAdresse'. The duplicate key value is (17886960-ce16-4338-b2d7-03110450e378).
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:285e97d3-e110-40a5-979a-156f3d9e1299
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Adresses'. Cannot insert duplicate key in object 'dbo.Adresses'. The duplicate key value is (17886960-ce16-4338-b2d7-03110450e378).
Cannot insert duplicate key row in object 'dbo.Employes' with unique index 'IX_Employes_IdAdresse'. The duplicate key value is (17886960-ce16-4338-b2d7-03110450e378).
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:285e97d3-e110-40a5-979a-156f3d9e1299
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)

2025-01-16 13:28:16.064 -05:00  INF  Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-01-16 13:28:16.066 -05:00  INF  Executed action Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3) in 63.1995ms
2025-01-16 13:28:16.068 -05:00  INF  Executed endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:28:16.071 -05:00  INF  Request finished HTTP/2 POST https://localhost:7195/api/Employes/formdata - 409 null application/problem+json; charset=utf-8 77.7096ms
2025-01-16 13:35:13.124 -05:00  INF  Request starting HTTP/2 POST https://localhost:7195/api/Employes/formdata - multipart/form-data; boundary=----WebKitFormBoundaryc3Iz0pHfT85nWh1v 1262
2025-01-16 13:35:13.128 -05:00  INF  Executing endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:35:13.129 -05:00  INF  Route matched with {action = "PostEmployéFormData", controller = "Employes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Northwind3.Entities.Employe]] PostEmployéFormData(Northwind3.Entities.FormEmploye) on controller Northwind3.Controllers.EmployesController (Northwind3).
2025-01-16 13:35:13.133 -05:00  INF  Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-01-16 13:35:13.135 -05:00  INF  Executed action Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3) in 2.7215ms
2025-01-16 13:35:13.137 -05:00  INF  Executed endpoint 'Northwind3.Controllers.EmployesController.PostEmployéFormData (Northwind3)'
2025-01-16 13:35:13.139 -05:00  INF  Request finished HTTP/2 POST https://localhost:7195/api/Employes/formdata - 400 null application/problem+json; charset=utf-8 14.7514ms
